{[ template "__start__.html" . ]}
<body>
    <div id="app">
        {[ template "__header__.html" . ]}
        <div class="container-fluid">
            <div class="row">
                {[ template "__menu__.html" . ]}
                <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                    <template v-if="mail.init.data===false">
                        <div class="alert alert-danger" role="alert"><a aria-current="page" data-bs-toggle="modal" data-bs-target="#mailSetModal">还未设置邮件通知! 请点击 <span style="text-decoration:underline;">邮件设置</span> 进行设置</a></div>
                    </template>
                    <div class="row" style="margin-bottom: 24px;">
                        <div class="col">
                            <div class="card box">
                                <div class="card-header">网站监测报警通知
                                    <template v-if="alertList.len !== 0"><span class="badge text-bg-danger">{{ alertList.len }}</span></template>
                                    <a @click="alertClear" style="float: right;cursor: pointer;" data-bs-toggle="tooltip" data-bs-title="确认所有报警信息" >{[ SVG "record-circle-fill" 18 18 ]}</a>
                                </div>
                                <div class="card-body" style="height: 120px;overflow: auto;padding: 2px;">
                                    <ul class="list-group list-group-flush">
                                        <template v-if="alertList.len === 0"><p style="text-align: center;">占无报警通知</p></template>
                                        <template v-else>
                                            <template v-for="item in alertList.list">
                                                <li class="list-group-item list-group-item-action"><span>{{item}}</span></li>
                                            </template>
                                        </template>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card box">
                                <div class="card-header">监测器列表
                                    <template v-if="monitorErrList.len !== 0">
                                        <span class="badge text-bg-warning">{{ monitorErrList.len }}</span>
                                    </template>
                                </div>
                                <div class="card-body" style="height: 120px;overflow: auto;padding: 2px;">
                                    <ul class="list-group list-group-flush">
                                        <template v-if="monitorErrList.len === 0"><p style="text-align: center;color: red;">没有连接监测器,请部署监测器!!!</p></template>
                                        <template v-else>
                                            <template v-for="item in monitorErrList.list">
                                                <li class="list-group-item list-group-item-action"><span>{{item}}</span></li>
                                            </template>
                                        </template>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 24px;padding: 0px;">
                        <div class="box" style="height: calc(100vh - 320px); overflow: auto;border: 1px solid #D3D3D3; border-radius: 12px;">
                            <table class="table table-hover">
                                <thead style="z-index: 99;">
                                    <tr>
                                        <th scope="col">网站</th>
                                        <th scope="col">备注</th>
                                        <th scope="col">报警</th>
                                        <th scope="col">监测请求频率</th>
                                        <th scope="col">Ping</th>
                                        <th scope="col">对照组</th>
                                        <th scope="col">操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                <template v-for="item in webSite.list">
                                    <tr>
                                        <td><a @click="openAlert(item.ID)" style="cursor: pointer;"><span style="font-size: 14px;"><b>{{ item.host }}</b></span></a></td>
                                        <td><span style="font-size: 14px;">{{ item.notes }}</span></td>
                                        <td>
                                            <span class="badge text-bg-success">Passed</span>
<!--                                            <template v-if="item.AlertCount>0">-->
<!--                                                <a @click="openAlert(item.ID)"><span class="badge text-bg-danger">报警: TODO </span></a>-->
<!--                                            </template>-->
<!--                                            <template v-else><span class="badge text-bg-success">Passed</span></template>-->
                                        </td>
                                        <td><span style="font-size: 14px;">{{ item.monitorRate }}s/次</span></td>
                                        <td><span style="font-size: 10px;">{{ item.ping }}</span></td>
                                        <td><span style="font-size: 10px;">{{ item.contrastUrl }}</span></td>
                                        <td>
                                            <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
                                                <a type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="tooltip" data-bs-title="查看网站信息" @click="openWebsiteInfo(item.hostID)">{[ SVG "house-fill" 18 18 ]}</a>
                                                <a type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="tooltip" data-bs-title="跳转到网站" @click="gotoWebsite(item)">{[ SVG "browser-chrome" 18 18 ]}</a>
                                                <a type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="tooltip" data-bs-title="修改网站监测配置" @click="openEditWebsiteConf(item)">{[ SVG "gear-fill" 18 18]}</a>
                                                <a type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="tooltip" data-bs-title="网站扫描的Url" @click="openWebsiteUrl(item)">{[ SVG "window-stack" 18 18]}</a>
                                                <a type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="tooltip" data-bs-title="设置网站监测点(Url)" @click="setUriPoint(item)">{[ SVG "broadcast" 18 18 ]}</a>
                                                <a type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="tooltip" data-bs-title="监测日志" @click="logShow(item)">{[ SVG "file-text-fill" 18 18 ]}</a>
                                                <a type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="tooltip" data-bs-title="监测图" @click="openChart(item)">{[ SVG "graph-up" 18 18 ]}</a>
                                                <a type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="tooltip" data-bs-title="删除该网站监测" @click="deleteWebsiteOpen(item)">{[ SVG "trash-fill" 18 18 ]}</a>
                                            </div>
                                        </td>
                                    </tr>
                                </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    {[ template "add_host_modal.html" . ]}
                    {[ template "mail_set_modal.html" . ]}
                    {[ template "toast.html" . ]}
                    {[ template "set_alert_modal.html" . ]}
                    {[ template "set_uri_modal.html" . ]}
                    {[ template "website_info_modal.html" . ]}
                    {[ template "log_modal.html" . ]}
                    {[ template "isok_modal.html" . ]}
                    {[ template "chart_modal.html" . ]}
                    {[ template "alert_modal.html" . ]}
                    {[ template "url_info_modal.html" . ]}
                </main>
            </div>
        </div>
    </div>
</body>
{[ template "__js__.html" . ]}
<script src="/static/js/public.js?v={[ .TimeStamp ]}"></script>
<script src="/static/js/home.js?v={[ .TimeStamp ]}"></script>
{[ template "__end__.html" . ]}